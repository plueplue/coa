/*
Coa Lightbox JS
http://coa.plue.me
*/
jQuery(function($){var c=460;var d='plugins/CoaPlugin/res/coa_lightbox.css';if(document.createStyleSheet){document.createStyleSheet(d)}else{$('head').append('<link rel="stylesheet" href="'+d+'">')}$('body').append('<div id="lb_full"><div></div></div>');$('.coa_lb a img').click(function(){var a=$(this).attr('alt');if(!a)a='';var b='<img src="'+$(this).parent().attr('href')+'" alt="'+a+'">';$('#lb_full > div').append('<figure>'+b+'<figcaption>'+a+'</figcaption></figure>');$('#lb_full > div').append('<div id="lb_nav"><span class="prev">&lt;</span><span class="close">x</span><span class="next">&gt;</span></div>');activateNav();$('#lb_full').fadeIn(c);$('#lb_full img').load(function(){$('#lb_full figure, #lb_full figcaption, #lb_nav').animate({opacity:1},c);checkNextPrev()});$('#lb_full .close, #lb_full figure, #lb_full').click(function(){$('#lb_full').fadeOut(c);window.setTimeout(function(){$('#lb_full > div').html('')},c)});$('#lb_full img, #lb_full figcaption, #lb_full #lb_nav').click(function(e){e.stopPropagation()});return false})});function activateNav(){$('#lb_full .next, #lb_full .prev').click(function(){var a=$('.coa_lb').find('a[href="'+$(this).parent().parent().find('img').attr('src')+'"]');var b=a.prev().find('img').attr('alt');var c=a.next().find('img').attr('alt');if(!b)b='';if(!c)c='';if($(this).attr('class')=='prev'){$('#lb_full img').attr('src',a.prev().attr('href'));$('#lb_full').find('figcaption').html(b)}else if($(this).attr('class')=='next'){$('#lb_full img').attr('src',a.next().attr('href'));$('#lb_full').find('figcaption').html(c)}})}function checkNextPrev(){var a=$('.coa_lb').find('a[href="'+$('#lb_full').find('img').attr('src')+'"]');var b=a.prev().attr('href');var c=a.next().attr('href');if(!b){$('#lb_full .prev').hide().after('<span class="passive p">&lt;</span>')}else{$('#lb_full .prev').show();$('#lb_full .passive.p').remove()}if(!c){$('#lb_full .next').hide().after('<span class="passive n">&gt;</span>')}else{$('#lb_full .next').show();$('#lb_full .passive.n').remove()}}